(function(a){function b(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d}function c(a,b,c){var d=b.x,e=b.y,f=c.x-d,g=c.y-e,h;if(f!==0||g!==0)h=((a.x-d)*f+(a.y-e)*g)/(f*f+g*g),h>1?(d=c.x,e=c.y):h>0&&(d+=f*h,e+=g*h);return f=a.x-d,g=a.y-e,f*f+g*g}function d(a,c){var d=a[0],e=[d],f=a.length,g,h;for(g=1;g<f;g+=1)h=a[g],b(h,d)>c&&(e.push(h),d=h);return d!==h&&e.push(h),e}function e(a,b,d,e,f){var g,h,i,j,k=[],l=[];while(f){g=0;for(h=e+1;h<f;h++)i=c(a[h],a[e],a[f]),i>g&&(j=h,g=i);g>d&&(b[j]=1,k.push(e),l.push(j),k.push(j),l.push(f)),e=k.pop(),f=l.pop()}}function f(a,b){var c=a.length,d=typeof Uint8Array!="undefined"?Uint8Array:Array,f=new d(c),g,h=[];f[0]=f[c-1]=1,e(a,f,b,0,c-1);for(g=0;g<c;g+=1)f[g]&&h.push(a[g]);return h}"use strict";var g=typeof exports!="undefined"?exports:a;g.simplify=function(a,b){b=typeof b!="undefined"?b:1;var c=b*b;return a=d(a,c),a=f(a,c),a}})(this)