(function(a){function b(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d}function c(a,b,c){var d=b.x,e=b.y,f=c.x-d,g=c.y-e,h;if(f!==0||g!==0)h=((a.x-d)*f+(a.y-e)*g)/(f*f+g*g),h>1?(d=c.x,e=c.y):h>0&&(d+=f*h,e+=g*h);return f=a.x-d,g=a.y-e,f*f+g*g}function d(a,c){var d=[a[0]],e=a.length,f,g;for(f=1,g=0;f<e;f+=1)b(a[f],a[g])>c&&(d.push(a[f]),g=f);return g<e-1&&d.push(a[e-1]),d}function e(a,b,d,f,g){var h=0,i,j,k;for(i=f+1;i<g;i+=1)j=c(a[i],a[f],a[g]),j>h&&(k=i,h=j);h>d&&(b[k]=1,e(a,b,d,f,k),e(a,b,d,k,g))}function f(a,b){var c=a.length,d=typeof Uint8Array!="undefined"?Uint8Array:Array,f=new d(c),g,h=[];f[0]=f[c-1]=1,e(a,f,b,0,c-1);for(g=0;g<c;g+=1)f[g]&&h.push(a[g]);return h}"use strict";var g=typeof exports!="undefined"?exports:a;g.simplify=function(a,b){b=typeof b!="undefined"?b:1;var c=b*b;return a=d(a,c),a=f(a,c),a}})(this)